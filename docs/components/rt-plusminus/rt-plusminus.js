let[compName]=rtlib.parseCompURL(import.meta.url);customElements.define(compName,class extends rtBC.RTBaseClass{#_sR;#_maxCount;constructor(){super(),this.#_sR=this.attachShadow({mode:"open"}),this.#_sR.append(this.$getTemplate());var t,e,s=this.attributes.colors;s&&([s,t]=s.value.split(","),(e=this.#_sR.querySelector("div")).style.color=t||"",e.style.backgroundColor=s||""),new MutationObserver(this.#countChange).observe(this,{attributes:!0,attributeFilter:["count"]}),this.$attr("count")||this.$attr("count","0"),this.#_sR.querySelector("#plus").addEventListener("click",()=>this.#buttonPressed(1)),this.#_sR.querySelector("#minus").addEventListener("click",()=>this.#buttonPressed(-1))}connectedCallback(){"undefined"!=typeof rtForm&&rtForm.getStyle(this,rtForm.findNode(this)),setTimeout(()=>{this.#_maxCount=parseInt(getComputedStyle(this.#_sR.querySelector("#container")).getPropertyValue("--MAX-COUNT"));var t=getComputedStyle(this).getPropertyValue("--OF-PM-POS");"left"===t.toLowerCase()&&this.#_sR.querySelector("div").insertAdjacentElement("afterbegin",this.#_sR.querySelector("#count")),"right"===t.toLowerCase()&&this.#_sR.querySelector("div").insertAdjacentElement("beforeend",this.#_sR.querySelector("#count"))})}#buttonPressed(t){var e=parseInt(this.$attr("count"));let s=e+t;switch(!0){case s>this.#_maxCount:s=this.#_maxCount;break;case s<0:s=0}s!==e&&(this.$attr("count",String(s)),this.$dispatch({name:"updatecount"}))}#countChange(t){var e=t[0].target;e.#_sR.querySelector("#count").textContent=e.$attr(t[0].attributeName)}});