let[compName]=rtlib.parseCompURL(import.meta.url);customElements.define(compName,class extends rtBC.RTBaseClass{static formAssociated=!0;#_sR;#_aL;#_aR;#_internals;#_eventBus;#_value;constructor(){super(),this.#_sR=this.attachShadow({mode:"open"}),this.#_sR.append(this.$getTemplate()),this.#_aL=this.#_sR.querySelector("#al"),this.#_aR=this.#_sR.querySelector("#ar"),this.#_internals=this.attachInternals(),this.#_eventBus=this.#_sR.querySelector("#container");var e=this.$attr("maxweek"),e=(this.#_eventBus._maxWeek=null!==e?parseInt(e)-1:void 0,this.#_eventBus._week=0,this.#_eventBus._locale=this.$attr("locale")||void 0,this.#_aL.addEventListener("click",()=>this.#arrowRespond(-1)),this.#_aR.addEventListener("click",()=>this.#arrowRespond(1)),{handleEvent:this.#choiceRespond,pickerNode:this});this.addEventListener("datepicked",e);let t=[0,6];this.$attr("invalid")&&(t=this.$attr2NumArray("invalid")),this.#_sR.querySelectorAll("dp-date").forEach(e=>{t.includes(e.getAttribute("day")%7)&&e.setAttribute("invalid","")})}connectedCallback(){"undefined"!=typeof rtForm&&rtForm.findNode(this,"form")&&rtForm.getStyle(this,rtForm.findNode(this)),this.hidden=!0}formAssociatedCallback(e){e&&e.addEventListener("formdata",e=>e.formData.set("picked-date",this.#_value))}formResetCallback(){this.#clearChosen(),this.hidden=!0,this.#_eventBus._week=0,this.$dispatch({name:"changeWeek",composed:!1,eventbus:this.#_eventBus})}#arrowRespond(e){this.#clearChosen(),this.#_eventBus._week+=e,this.#_eventBus._week<0&&(this.#_eventBus._week=0),this.#_eventBus._maxWeek&&this.#_eventBus._week>this.#_eventBus._maxWeek&&(this.#_eventBus._week=this.#_eventBus._maxWeek),this.$dispatch({name:"changeWeek",composed:!1,eventbus:this.#_eventBus})}#choiceRespond(e){this.pickerNode.#_value=this.pickerNode.$localeDate(e.detail.date,this.pickerNode.#_eventBus._locale,{weekday:"short",month:"short",year:"numeric",day:"numeric"}),this.pickerNode.#dispatchChoice(e.detail.day)}#clearChosen(){this.#dispatchChoice("-1"),this.#_value=null}#dispatchChoice(e){this.$dispatch({name:"choiceMade",detail:{day:e},composed:!1,eventbus:this.#_eventBus})}get value(){return this.#_value}get name(){return this.$attr("name")}checkValidity(){return new Map([["valid",!!this.#_value],["field","datepicker"]])}focus(){this.#_sR.querySelector("#container").focus({focusVisible:!0})}reset(){this.formResetCallback()}});