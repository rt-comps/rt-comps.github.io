const[compName,compPath]=rtlib.parseURL(import.meta.url);customElements.define(compName,class extends rtBC.RTBaseClass{#_sR;constructor(){super();this.#_sR=this.attachShadow({mode:"open"});this.#_sR.append(this.$getTemplate());this.#_sR.querySelector("#delete").addEventListener("click",()=>{this.$dispatch({name:"cartmod",detail:{prodID:this.getAttribute("prodid"),action:"remove"}});this.remove()});this.addEventListener("updatecount",e=>this.render(e))}connectedCallback(){this.render()}render(e){const unit=parseInt(this.$attr("unit"));let count=parseInt(this.#_sR.querySelector("#count").innerHTML);if(e){e.stopPropagation();count+=e.detail.change;switch(true){case count>10:count=10;break;case count<0:count=0}this.$dispatch({name:"cartmod",detail:{prodID:this.getAttribute("prodid"),count:e.detail.change,action:"update"}})}else{count=parseInt(this.$attr("count"));this.#_sR.querySelector("#unit").innerHTML=`${this.$euro(unit/100)}`}this.#_sR.querySelector("#count").innerHTML=`${count}`;if(count>0)this.setAttribute("count",count);else this.removeAttribute("count");this.#_sR.querySelector("#total").innerHTML=`${this.$euro(count*unit/100)}`;this.#_sR.querySelector("img").src=`${compPath}/imgs/trashican.jpeg`}});
