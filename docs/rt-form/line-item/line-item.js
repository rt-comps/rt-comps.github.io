const[compName,compPath]=rtlib.parseURL(import.meta.url);customElements.define(compName,class extends rtBC.RTBaseClass{#_sR;constructor(){super(),this.#_sR=this.attachShadow({mode:"open"}),this.#_sR.append(this.$getTemplate()),this.#_sR.querySelector("#delete").addEventListener("click",()=>{this.$dispatch({name:"cartmod",detail:{prodID:this.getAttribute("prodid"),action:"remove"}}),this.remove()}),this.addEventListener("updatecount",t=>this.render(t))}connectedCallback(){this.render()}render(t){var e=parseInt(this.$attr("unit"));let s=parseInt(this.#_sR.querySelector("#count").innerHTML);if(t){switch(t.stopPropagation(),!0){case 10<(s+=t.detail.change):s=10;break;case s<0:s=0}this.$dispatch({name:"cartmod",detail:{prodID:this.getAttribute("prodid"),count:t.detail.change,action:"update"}})}else s=parseInt(this.$attr("count")),this.#_sR.querySelector("#unit").innerHTML=""+this.$euro(e/100);this.#_sR.querySelector("#count").innerHTML=""+s,0<s?this.setAttribute("count",s):this.removeAttribute("count"),this.#_sR.querySelector("#total").innerHTML=""+this.$euro(s*e/100),this.#_sR.querySelector("img").src=compPath+"/imgs/trashcan.jpeg"}});